@page "/"
@page "/index.html"

@using Blazor.Fluxor
@using Store.Climb
@inject IState<ClimbState> ClimbState
@inject IDispatcher Dispatcher

<style>
    .app-fab--fixed {
        position: fixed;
        bottom: 1rem;
        right: 1rem;
    }
</style>

Number of climbs added: @ClimbState.Value.NumClimbs

<MatFAB class="app-fab--fixed" OnClick="@OpenAddClimbModal" Icon="@MatIconNames.Add"></MatFAB>

<MatDialog IsOpen="@_isOpenAddClimbModal">
    <MatDialogTitle>Add Climb</MatDialogTitle>
    <MatDialogContent>
        <MatIcon Icon="camera"></MatIcon>
    </MatDialogContent>
    <MatDialogActions>
        <MatButton OnClick="@CancelAddClimbClicked">Cancel</MatButton>
        <MatButton OnClick="@OkAddClimbClicked">OK</MatButton>
    </MatDialogActions>
</MatDialog>

@functions{
    private bool _isOpenAddClimbModal = false;

    void OpenAddClimbModal()
    {
        _isOpenAddClimbModal = true;
    }

    void OkAddClimbClicked()
    {
        Dispatcher.Dispatch(new AddClimbAction());
        _isOpenAddClimbModal = false;
    }

    void CancelAddClimbClicked()
    {
        _isOpenAddClimbModal = false;
    }
}